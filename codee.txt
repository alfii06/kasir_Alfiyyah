<!DOCTYPE html>
<html lang="en">

<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>Dashboard</title>

    <!-- Custom fonts for this template-->
    <link href="../dashboard/vendor/fontawesome-free/css/all.min.css" rel="stylesheet" type="text/css">
    <link href="https://fonts.googleapis.com/css?family=Nunito:200,200i,300,300i,400,400i,600,600i,700,700i,800,800i,900,900i" rel="stylesheet">

    <!-- Custom styles for this template-->
    <link href="../dashboard/css/sb-admin-2.min.css" rel="stylesheet">

</head>

<body id="page-top">

    <!-- Page Wrapper -->
    <div id="wrapper">

        <!-- Sidebar -->
        <ul class="navbar-nav bg-gradient-primary sidebar sidebar-dark accordion" id="accordionSidebar">

            <!-- Sidebar - Brand -->
            <a class="sidebar-brand d-flex align-items-center justify-content-center" href="../dashboard/index.html">
                <div class="sidebar-brand-icon rotate-n-15">
                    <i class="fas fa-laugh-wink"></i>
                </div>
                <div class="sidebar-brand-text mx-3">Admin</div>
            </a>

            <!-- Divider -->
            <hr class="sidebar-divider my-0">

            <!-- Nav Item - Dashboard -->
            <li class="nav-item active">
                <a class="nav-link" href="../dashboard/index.html">
                    <i class="fas fa-fw fa-tachometer-alt"></i>
                    <span>Dashboard</span></a>
            </li>

            <!-- Divider -->
            <hr class="sidebar-divider">

            <!-- Heading -->
            <div class="sidebar-heading">
                Interface
            </div>

            <!-- Nav Item - Data User -->
            <li class="nav-item">
                <a class="nav-link collapsed" href="../admin/data_user.php">
                    <i class="fas fa-fw fa-cog"></i>
                    <span>Data User</span>
                </a>
            </li>

            <!-- Nav Item - Data Barang -->
            <li class="nav-item">
                <a class="nav-link collapsed" href="../admin/data_barang.php">
                    <i class="fas fa-fw fa-folder"></i>
                    <span>Data Barang</span>
                </a>
            </li>

            <!-- Nav Item - Data Pelanggan -->
            <li class="nav-item">
                <a class="nav-link collapsed" href="../admin/data_pelanggan.php">
                    <i class="fas fa-fw fa-wrench"></i>
                    <span>Data Pelanggan</span>
                </a>
            </li>


            <!-- Nav Item - Data Supplier -->
            <li class="nav-item">
                <a class="nav-link" href="../admin/data_supplier.php">
                    <i class="fas fa-fw fa-chart-area"></i>
                    <span>Data Supplier</span></a>
            </li>

            <!-- Nav Item - Data Supplier -->
            <li class="nav-item">
                <a class="nav-link" href="../admin/pembelian_barang.php">
                    <i class="fas fa-fw fa-chart-area"></i>
                    <span>Pembelian Barang</span></a>
            </li>

            <!-- Nav Item - Penjualan Barang -->
            <li class="nav-item">
                <a class="nav-link" href="../admin/penjualan_barang.php">
                    <i class="fas fa-fw fa-table"></i>
                    <span>Penjualan Barang</span></a>
            </li>

            <!-- Nav Item - Stok Barang -->
            <li class="nav-item">
                <a class="nav-link" href="../admin/toko.php">
                    <i class="fas fa-fw fa-table"></i>
                    <span>Toko</span></a>
            </li>

            <!-- Divider -->
            <hr class="sidebar-divider d-none d-md-block">

            <!-- Sidebar Toggler (Sidebar) -->
            <div class="text-center d-none d-md-inline">
                <button class="rounded-circle border-0" id="sidebarToggle"></button>
            </div>

        </ul>
        <!-- End of Sidebar -->

        <!-- Content Wrapper -->
        <div id="content-wrapper" class="d-flex flex-column">

            <!-- Main Content -->
            <div id="content">

                <!-- Topbar -->
                <nav class="navbar navbar-expand navbar-light bg-white topbar mb-4 static-top shadow">

                    <!-- Sidebar Toggle (Topbar) -->
                    <button id="sidebarToggleTop" class="btn btn-link d-md-none rounded-circle mr-3">
                        <i class="fa fa-bars"></i>
                    </button>

                    <!-- Topbar Search -->
                    <form class="d-none d-sm-inline-block form-inline mr-auto ml-md-3 my-2 my-md-0 mw-100 navbar-search">
                        <div class="input-group">
                            <input type="text" class="form-control bg-light border-0 small" placeholder="Search for..." aria-label="Search" aria-describedby="basic-addon2">
                            <div class="input-group-append">
                                <button class="btn btn-primary" type="button">
                                    <i class="fas fa-search fa-sm"></i>
                                </button>
                            </div>
                        </div>
                    </form>

                    <!-- Topbar Navbar -->
                    <ul class="navbar-nav ml-auto">

                        <!-- Nav Item - Search Dropdown (Visible Only XS) -->
                        <li class="nav-item dropdown no-arrow d-sm-none">
                            <a class="nav-link dropdown-toggle" href="#" id="searchDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                <i class="fas fa-search fa-fw"></i>
                            </a>
                            <!-- Dropdown - Messages -->
                            <div class="dropdown-menu dropdown-menu-right p-3 shadow animated--grow-in" aria-labelledby="searchDropdown">
                                <form class="form-inline mr-auto w-100 navbar-search">
                                    <div class="input-group">
                                        <input type="text" class="form-control bg-light border-0 small" placeholder="Search for..." aria-label="Search" aria-describedby="basic-addon2">
                                        <div class="input-group-append">
                                            <button class="btn btn-primary" type="button">
                                                <i class="fas fa-search fa-sm"></i>
                                            </button>
                                        </div>
                                    </div>
                                </form>
                            </div>
                        </li>

                        <!-- Nav Item - Alerts -->
                        <li class="nav-item dropdown no-arrow mx-1">
                            <a class="nav-link dropdown-toggle" href="#" id="alertsDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                <i class="fas fa-bell fa-fw"></i>
                                <!-- Counter - Alerts -->
                                <span class="badge badge-danger badge-counter">3+</span>
                            </a>
                            <!-- Dropdown - Alerts -->
                            <div class="dropdown-list dropdown-menu dropdown-menu-right shadow animated--grow-in" aria-labelledby="alertsDropdown">
                                <h6 class="dropdown-header">
                                    Alerts Center
                                </h6>
                                <a class="dropdown-item d-flex align-items-center" href="#">
                                    <div class="mr-3">
                                        <div class="icon-circle bg-primary">
                                            <i class="fas fa-file-alt text-white"></i>
                                        </div>
                                    </div>
                                    <div>
                                        <div class="small text-gray-500">December 12, 2019</div>
                                        <span class="font-weight-bold">A new monthly report is ready to download!</span>
                                    </div>
                                </a>
                                <a class="dropdown-item d-flex align-items-center" href="#">
                                    <div class="mr-3">
                                        <div class="icon-circle bg-success">
                                            <i class="fas fa-donate text-white"></i>
                                        </div>
                                    </div>
                                    <div>
                                        <div class="small text-gray-500">December 7, 2019</div>
                                        $290.29 has been deposited into your account!
                                    </div>
                                </a>
                                <a class="dropdown-item d-flex align-items-center" href="#">
                                    <div class="mr-3">
                                        <div class="icon-circle bg-warning">
                                            <i class="fas fa-exclamation-triangle text-white"></i>
                                        </div>
                                    </div>
                                    <div>
                                        <div class="small text-gray-500">December 2, 2019</div>
                                        Spending Alert: We've noticed unusually high spending for your account.
                                    </div>
                                </a>
                                <a class="dropdown-item text-center small text-gray-500" href="#">Show All Alerts</a>
                            </div>
                        </li>

                        <!-- Nav Item - Messages -->
                        <li class="nav-item dropdown no-arrow mx-1">
                            <a class="nav-link dropdown-toggle" href="#" id="messagesDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                <i class="fas fa-envelope fa-fw"></i>
                                <!-- Counter - Messages -->
                                <span class="badge badge-danger badge-counter">7</span>
                            </a>
                            <!-- Dropdown - Messages -->
                            <div class="dropdown-list dropdown-menu dropdown-menu-right shadow animated--grow-in" aria-labelledby="messagesDropdown">
                                <h6 class="dropdown-header">
                                    Message Center
                                </h6>
                                <a class="dropdown-item d-flex align-items-center" href="#">
                                    <div class="dropdown-list-image mr-3">
                                        <img class="rounded-circle" src="../img/undraw_profile_1.svg" alt="...">
                                        <div class="status-indicator bg-success"></div>
                                    </div>
                                    <div class="font-weight-bold">
                                        <div class="text-truncate">Hi there! I am wondering if you can help me with a
                                            problem I've been having.</div>
                                        <div class="small text-gray-500">Emily Fowler · 58m</div>
                                    </div>
                                </a>
                                <a class="dropdown-item d-flex align-items-center" href="#">
                                    <div class="dropdown-list-image mr-3">
                                        <img class="rounded-circle" src="../img/undraw_profile_2.svg" alt="...">
                                        <div class="status-indicator"></div>
                                    </div>
                                    <div>
                                        <div class="text-truncate">I have the photos that you ordered last month, how
                                            would you like them sent to you?</div>
                                        <div class="small text-gray-500">Jae Chun · 1d</div>
                                    </div>
                                </a>
                                <a class="dropdown-item d-flex align-items-center" href="#">
                                    <div class="dropdown-list-image mr-3">
                                        <img class="rounded-circle" src="../img/undraw_profile_3.svg" alt="...">
                                        <div class="status-indicator bg-warning"></div>
                                    </div>
                                    <div>
                                        <div class="text-truncate">Last month's report looks great, I am very happy with
                                            the progress so far, keep up the good work!</div>
                                        <div class="small text-gray-500">Morgan Alvarez · 2d</div>
                                    </div>
                                </a>
                                <a class="dropdown-item d-flex align-items-center" href="#">
                                    <div class="dropdown-list-image mr-3">
                                        <img class="rounded-circle" src="https://source.unsplash.com/Mv9hjnEUHR4/60x60" alt="...">
                                        <div class="status-indicator bg-success"></div>
                                    </div>
                                    <div>
                                        <div class="text-truncate">Am I a good boy? The reason I ask is because someone
                                            told me that people say this to all dogs, even if they aren't good...</div>
                                        <div class="small text-gray-500">Chicken the Dog · 2w</div>
                                    </div>
                                </a>
                                <a class="dropdown-item text-center small text-gray-500" href="#">Read More Messages</a>
                            </div>
                        </li>

                        <div class="topbar-divider d-none d-sm-block"></div>

                        <!-- Nav Item - User Information -->
                        <li class="nav-item dropdown no-arrow">
                            <a class="nav-link dropdown-toggle" href="#" id="userDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                <span class="mr-2 d-none d-lg-inline text-gray-600 small">Admin</span>
                                <img class="img-profile rounded-circle" src="../img/undraw_profile.svg">
                            </a>
                            <!-- Dropdown - User Information -->
                            <div class="dropdown-menu dropdown-menu-right shadow animated--grow-in" aria-labelledby="userDropdown">
                                <a class="dropdown-item" href="#">
                                    <i class="fas fa-user fa-sm fa-fw mr-2 text-gray-400"></i>
                                    Profile
                                </a>
                                <a class="dropdown-item" href="#">
                                    <i class="fas fa-cogs fa-sm fa-fw mr-2 text-gray-400"></i>
                                    Settings
                                </a>
                                <a class="dropdown-item" href="#">
                                    <i class="fas fa-list fa-sm fa-fw mr-2 text-gray-400"></i>
                                    Activity Log
                                </a>
                                <div class="dropdown-divider"></div>
                                <a class="dropdown-item" href="../log.php" data-toggle="modal" data-target="#logoutModal">
                                    <i class="fas fa-sign-out-alt fa-sm fa-fw mr-2 text-gray-400"></i>
                                    Logout
                                </a>
                            </div>
                        </li>

                    </ul>

                </nav>
                <!-- End of Topbar -->

                <!-- Begin Page Content -->
                <div class="container-fluid">

                    <!-- Page Heading -->
                    <!DOCTYPE html>
                    <html lang="en">

                    <head>
                        <meta charset="UTF-8">
                        <meta name="viewport" content="width=device-width, initial-scale=1.0">
                        <title>Data Penjualan Barang</title>
                        <style>
                            table {
                                width: 100%;
                                border-collapse: collapse;
                                margin-top: 20px;
                            }

                            th,
                            td {
                                border: 1px solid #ddd;
                                padding: 8px;
                                text-align: left;
                                color: #000;
                            }

                            th {
                                background-color: #f2f2f2;
                            }

                            button {
                                padding: 5px 10px;
                                margin-right: 5px;
                            }

                            /* Perubahan pada input-field */
                            .input-field {
                                margin-bottom: 10px;
                            }

                            .input-field label {
                                display: block;
                                margin-bottom: 5px;
                                font-weight: bold; /* Menambahkan ketebalan pada label */
                            }

                            .input-field input,
                            .input-field select {
                                width: calc(100% - 22px); /* Mengatur lebar input */
                                padding: 5px;
                                border: 1px solid #ccc;
                                border-radius: 5px;
                                margin-top: 5px; /* Menambahkan jarak antara input dan label */
                            }

                            /* Button */
                            .input-field button {
                                width: 100%;
                                background-color: #4CAF50;
                                color: white;
                                border: none;
                                padding: 10px;
                                border-radius: 5px;
                                cursor: pointer;
                            }
                        </style>
                    </head>

                    <body>

                        <h2>Tambah Penjualan</h2>

                        <!-- Tombol untuk menampilkan form tambah penjualan -->
                        <button onclick="showForm()">Tambah Penjualan</button>
                        <br>

                        <!-- Form tambah penjualan (awalnya disembunyikan) -->
                        <div id="formPenjualan" style="display: none; margin-top: 10px; border: 1px solid #ccc; border-radius: 5px; padding: 5px;">
                            <form action="proses_tambah_penjualan.php" method="post" class="input-field">
                                <div>
                                    <label for="pelanggan">Pelanggan</label>
                                    <select id="pelanggan" name="pelanggan">
                                        <option>Pilih Pelanggan</option>
                                        <!-- Options for pelanggan -->
                                        <?php
                                        include 'koneksi.php'; // Include database connection file
                                        $sql_pelanggan = "SELECT * FROM pelanggan";
                                        $result_pelanggan = $conn->query($sql_pelanggan);
                                        if ($result_pelanggan->num_rows > 0) {
                                            while ($row_pelanggan = $result_pelanggan->fetch_assoc()) {
                                                echo "<option value='" . $row_pelanggan["pelanggan_id"] . "'>" . $row_pelanggan["nama_pelanggan"] . "</option>";
                                            }
                                        }
                                        ?>
                                    </select>
                                </div>
                                <div style="display: flex; flex-direction:row;flex-wrap:wrap">
                                    <div style='width:30%'>
                                        <label for="produk">Produk</label>
                                        <select id="produk" name="produk" style="width:80%;">
                                            <option>Pilih Produk</option>
                                            <!-- Options for produk -->
                                            <?php
                                            $sql_produk = "SELECT * FROM produk";
                                            $result_produk = $conn->query($sql_produk);
                                            if ($result_produk->num_rows > 0) {
                                                while ($row_produk = $result_produk->fetch_assoc()) {
                                                    echo "<option value='" . $row_produk["produk_id"] . "'>" . $row_produk["nama_produk"] . "</option>";
                                                }
                                            }
                                            ?>
                                        </select>
                                    </div>
                                    <div>
                                        <label for="quantity">Jumlah Beli</label>
                                        <input type="number" id="quantity" name="quantity" value="1" style="width:30%;">
                                    </div>
                                </div>
                                <br>
                                <a href="process_tambah_penjualan.php"><button type="submit" style="width: 20%; margin-left: 840px;">Tambah Penjualan</button></a>
                            </form>
                        </div>

                        <!-- Tabel Penjualan -->
                        <table id="tabelPenjualan">
                            <tr>
                                <th>Penjualan ID</th>
                                <th>Toko ID</th>
                                <th>User ID</th>
                                <th>Tanggal Penjualan</th>
                                <th>Pelanggan</th>
                                <th>Total</th>
                                <th>Bayar</th>
                                <th>Sisa</th>
                                <th>Keterangan</th>
                                <th>Aksi</th>
                            </tr>
                            <!-- Dynamic data for penjualan -->
                            <?php
                            $sql = "SELECT penjualan.*, toko.nama_toko AS nama_toko, user.nama_lengkap AS nama_user FROM penjualan
                                    INNER JOIN toko ON penjualan.toko_id = toko.toko_id
                                    INNER JOIN user ON penjualan.user_id = user.user_id";
                            $result = $conn->query($sql);
                            if ($result->num_rows > 0) {
                                while ($row = $result->fetch_assoc()) {
                                    echo "<tr>";
                                    echo "<td>" . $row["penjualan_id"] . "</td>";
                                    echo "<td>" . $row["nama_toko"] . "</td>";
                                    echo "<td>" . $row["nama_user"] . "</td>";
                                    echo "<td>" . $row["tanggal_penjualan"] . "</td>";
                                    echo "<td>" . $row["pelanggan"] . "</td>";
                                    echo "<td>" . $row["total"] . "</td>";
                                    echo "<td>" . $row["bayar"] . "</td>";
                                    echo "<td>" . $row["sisa"] . "</td>";
                                    echo "<td>" . $row["keterangan"] . "</td>";
                                    echo "<td>
                                            <a href='edit_penjualan_barang.php?id=" . $row["penjualan_id"] . "' class='btn btn-success btn-sm'>Edit</a>
                                            <a href='hapus_penjualan.php?id=" . $row["penjualan_id"] . "' class='btn btn-danger btn-sm' onclick=\"return confirm('Apakah Anda yakin ingin menghapus data ini?')\">Delete</a>
                                        </td>";
                                    echo "</tr>";
                                }
                            } else {
                                echo "<tr><td colspan='12'>Tidak ada data penjualan barang.</td></tr>";
                            }
                            $conn->close(); // Close database connection
                            ?>
                        </table>

                        <script>
                            // Function to show the penjualan form
                            function showForm() {
                                var form = document.getElementById('formPenjualan');
                                form.style.display = 'block';
                            }
                        </script>

                    </body>

                    </html>

                </div>
                <!-- /.container-fluid -->

            </div>
            <!-- End of Main Content -->

            <!-- Footer -->
            <footer class="sticky-footer bg-white">
                <div class="container my-auto">
                    <div class="copyright text-center my-auto">

                    </div>
                </div>
            </footer>
            <!-- End of Footer -->

        </div>
        <!-- End of Content Wrapper -->

    </div>
    <!-- End of Page Wrapper -->

    <!-- Scroll to Top Button-->
    <a class="scroll-to-top rounded" href="#page-top">
        <i class="fas fa-angle-up"></i>
    </a>

    <!-- Logout Modal-->
    <div class="modal fade" id="logoutModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLabel">Ready to Leave?</h5>
                    <button class="close" type="button" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">×</span>
                    </button>
                </div>
                <div class="modal-body">Select "Logout" below if you are ready to end your current session.</div>
                <div class="modal-footer">
                    <button class="btn btn-secondary" type="button" data-dismiss="modal">Cancel</button>
                    <a class="btn btn-primary" href="../log.php">Logout</a>
                </div>
            </div>
        </div>
    </div>

    <!-- Bootstrap core JavaScript-->
    <script src="../dashboard/vendor/jquery/jquery.min.js"></script>
    <script src="../dashboard/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>

    <!-- Core plugin JavaScript-->
    <script src="../dashboard/vendor/jquery-easing/jquery.easing.min.js"></script>

    <!-- Custom scripts for all pages-->
    <script src="../dashboard/js/sb-admin-2.min.js"></script>

    <!-- Page level plugins -->
    <script src="../dashboard/vendor/chart.js/Chart.min.js"></script>

    <!-- Page level custom scripts -->
    <script src="../dashboard/js/demo/chart-area-demo.js"></script>
    <script src="../dashboard/js/demo/chart-pie-demo.js"></script>

</body>

</html>






<!DOCTYPE html>
<html lang="en">

<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>Dashboard</title>

    <!-- Custom fonts for this template-->
    <link href="../dashboard/vendor/fontawesome-free/css/all.min.css" rel="stylesheet" type="text/css">
    <link href="https://fonts.googleapis.com/css?family=Nunito:200,200i,300,300i,400,400i,600,600i,700,700i,800,800i,900,900i" rel="stylesheet">

    <!-- Custom styles for this template-->
    <link href="../dashboard/css/sb-admin-2.min.css" rel="stylesheet">

</head>

<body id="page-top">

    <!-- Page Wrapper -->
    <div id="wrapper">

        <!-- Sidebar -->
        <ul class="navbar-nav bg-gradient-primary sidebar sidebar-dark accordion" id="accordionSidebar">

            <!-- Sidebar - Brand -->
            <a class="sidebar-brand d-flex align-items-center justify-content-center" href="../dashboard/index.html">
                <div class="sidebar-brand-icon rotate-n-15">
                    <i class="fas fa-laugh-wink"></i>
                </div>
                <div class="sidebar-brand-text mx-3">Admin</div>
            </a>

            <!-- Divider -->
            <hr class="sidebar-divider my-0">

            <!-- Nav Item - Dashboard -->
            <li class="nav-item active">
                <a class="nav-link" href="../dashboard/index.html">
                    <i class="fas fa-fw fa-tachometer-alt"></i>
                    <span>Dashboard</span></a>
            </li>

            <!-- Divider -->
            <hr class="sidebar-divider">

            <!-- Heading -->
            <div class="sidebar-heading">
                Interface
            </div>

            <!-- Nav Item - Data User -->
            <li class="nav-item">
                <a class="nav-link collapsed" href="../admin/data_user.php">
                    <i class="fas fa-fw fa-cog"></i>
                    <span>Data User</span>
                </a>
            </li>

            <!-- Nav Item - Data Barang -->
            <li class="nav-item">
                <a class="nav-link collapsed" href="../admin/data_barang.php">
                    <i class="fas fa-fw fa-folder"></i>
                    <span>Data Barang</span>
                </a>
            </li>

            <!-- Nav Item - Data Pelanggan -->
            <li class="nav-item">
                <a class="nav-link collapsed" href="../admin/data_pelanggan.php">
                    <i class="fas fa-fw fa-wrench"></i>
                    <span>Data Pelanggan</span>
                </a>
            </li>


            <!-- Nav Item - Data Supplier -->
            <li class="nav-item">
                <a class="nav-link" href="../admin/data_supplier.php">
                    <i class="fas fa-fw fa-chart-area"></i>
                    <span>Data Supplier</span></a>
            </li>

            <!-- Nav Item - Data Supplier -->
            <li class="nav-item">
                <a class="nav-link" href="../admin/pembelian_barang.php">
                    <i class="fas fa-fw fa-chart-area"></i>
                    <span>Pembelian Barang</span></a>
            </li>

            <!-- Nav Item - Penjualan Barang -->
            <li class="nav-item">
                <a class="nav-link" href="../admin/penjualan_barang.php">
                    <i class="fas fa-fw fa-table"></i>
                    <span>Penjualan Barang</span></a>
            </li>

            <!-- Nav Item - Stok Barang -->
            <li class="nav-item">
                <a class="nav-link" href="../admin/toko.php">
                    <i class="fas fa-fw fa-table"></i>
                    <span>Toko</span></a>
            </li>

            <!-- Divider -->
            <hr class="sidebar-divider d-none d-md-block">

            <!-- Sidebar Toggler (Sidebar) -->
            <div class="text-center d-none d-md-inline">
                <button class="rounded-circle border-0" id="sidebarToggle"></button>
            </div>

        </ul>
        <!-- End of Sidebar -->

        <!-- Content Wrapper -->
        <div id="content-wrapper" class="d-flex flex-column">

            <!-- Main Content -->
            <div id="content">

                <!-- Topbar -->
                <nav class="navbar navbar-expand navbar-light bg-white topbar mb-4 static-top shadow">

                    <!-- Sidebar Toggle (Topbar) -->
                    <button id="sidebarToggleTop" class="btn btn-link d-md-none rounded-circle mr-3">
                        <i class="fa fa-bars"></i>
                    </button>

                    <!-- Topbar Search -->
                    <form class="d-none d-sm-inline-block form-inline mr-auto ml-md-3 my-2 my-md-0 mw-100 navbar-search">
                        <div class="input-group">
                            <input type="text" class="form-control bg-light border-0 small" placeholder="Search for..." aria-label="Search" aria-describedby="basic-addon2">
                            <div class="input-group-append">
                                <button class="btn btn-primary" type="button">
                                    <i class="fas fa-search fa-sm"></i>
                                </button>
                            </div>
                        </div>
                    </form>

                    <!-- Topbar Navbar -->
                    <ul class="navbar-nav ml-auto">

                        <!-- Nav Item - Search Dropdown (Visible Only XS) -->
                        <li class="nav-item dropdown no-arrow d-sm-none">
                            <a class="nav-link dropdown-toggle" href="#" id="searchDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                <i class="fas fa-search fa-fw"></i>
                            </a>
                            <!-- Dropdown - Messages -->
                            <div class="dropdown-menu dropdown-menu-right p-3 shadow animated--grow-in" aria-labelledby="searchDropdown">
                                <form class="form-inline mr-auto w-100 navbar-search">
                                    <div class="input-group">
                                        <input type="text" class="form-control bg-light border-0 small" placeholder="Search for..." aria-label="Search" aria-describedby="basic-addon2">
                                        <div class="input-group-append">
                                            <button class="btn btn-primary" type="button">
                                                <i class="fas fa-search fa-sm"></i>
                                            </button>
                                        </div>
                                    </div>
                                </form>
                            </div>
                        </li>

                        <!-- Nav Item - Alerts -->
                        <li class="nav-item dropdown no-arrow mx-1">
                            <a class="nav-link dropdown-toggle" href="#" id="alertsDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                <i class="fas fa-bell fa-fw"></i>
                                <!-- Counter - Alerts -->
                                <span class="badge badge-danger badge-counter">3+</span>
                            </a>
                            <!-- Dropdown - Alerts -->
                            <div class="dropdown-list dropdown-menu dropdown-menu-right shadow animated--grow-in" aria-labelledby="alertsDropdown">
                                <h6 class="dropdown-header">
                                    Alerts Center
                                </h6>
                                <a class="dropdown-item d-flex align-items-center" href="#">
                                    <div class="mr-3">
                                        <div class="icon-circle bg-primary">
                                            <i class="fas fa-file-alt text-white"></i>
                                        </div>
                                    </div>
                                    <div>
                                        <div class="small text-gray-500">December 12, 2019</div>
                                        <span class="font-weight-bold">A new monthly report is ready to download!</span>
                                    </div>
                                </a>
                                <a class="dropdown-item d-flex align-items-center" href="#">
                                    <div class="mr-3">
                                        <div class="icon-circle bg-success">
                                            <i class="fas fa-donate text-white"></i>
                                        </div>
                                    </div>
                                    <div>
                                        <div class="small text-gray-500">December 7, 2019</div>
                                        $290.29 has been deposited into your account!
                                    </div>
                                </a>
                                <a class="dropdown-item d-flex align-items-center" href="#">
                                    <div class="mr-3">
                                        <div class="icon-circle bg-warning">
                                            <i class="fas fa-exclamation-triangle text-white"></i>
                                        </div>
                                    </div>
                                    <div>
                                        <div class="small text-gray-500">December 2, 2019</div>
                                        Spending Alert: We've noticed unusually high spending for your account.
                                    </div>
                                </a>
                                <a class="dropdown-item text-center small text-gray-500" href="#">Show All Alerts</a>
                            </div>
                        </li>

                        <!-- Nav Item - Messages -->
                        <li class="nav-item dropdown no-arrow mx-1">
                            <a class="nav-link dropdown-toggle" href="#" id="messagesDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                <i class="fas fa-envelope fa-fw"></i>
                                <!-- Counter - Messages -->
                                <span class="badge badge-danger badge-counter">7</span>
                            </a>
                            <!-- Dropdown - Messages -->
                            <div class="dropdown-list dropdown-menu dropdown-menu-right shadow animated--grow-in" aria-labelledby="messagesDropdown">
                                <h6 class="dropdown-header">
                                    Message Center
                                </h6>
                                <a class="dropdown-item d-flex align-items-center" href="#">
                                    <div class="dropdown-list-image mr-3">
                                        <img class="rounded-circle" src="../img/undraw_profile_1.svg" alt="...">
                                        <div class="status-indicator bg-success"></div>
                                    </div>
                                    <div class="font-weight-bold">
                                        <div class="text-truncate">Hi there! I am wondering if you can help me with a
                                            problem I've been having.</div>
                                        <div class="small text-gray-500">Emily Fowler · 58m</div>
                                    </div>
                                </a>
                                <a class="dropdown-item d-flex align-items-center" href="#">
                                    <div class="dropdown-list-image mr-3">
                                        <img class="rounded-circle" src="../img/undraw_profile_2.svg" alt="...">
                                        <div class="status-indicator"></div>
                                    </div>
                                    <div>
                                        <div class="text-truncate">I have the photos that you ordered last month, how
                                            would you like them sent to you?</div>
                                        <div class="small text-gray-500">Jae Chun · 1d</div>
                                    </div>
                                </a>
                                <a class="dropdown-item d-flex align-items-center" href="#">
                                    <div class="dropdown-list-image mr-3">
                                        <img class="rounded-circle" src="../img/undraw_profile_3.svg" alt="...">
                                        <div class="status-indicator bg-warning"></div>
                                    </div>
                                    <div>
                                        <div class="text-truncate">Last month's report looks great, I am very happy with
                                            the progress so far, keep up the good work!</div>
                                        <div class="small text-gray-500">Morgan Alvarez · 2d</div>
                                    </div>
                                </a>
                                <a class="dropdown-item d-flex align-items-center" href="#">
                                    <div class="dropdown-list-image mr-3">
                                        <img class="rounded-circle" src="https://source.unsplash.com/Mv9hjnEUHR4/60x60" alt="...">
                                        <div class="status-indicator bg-success"></div>
                                    </div>
                                    <div>
                                        <div class="text-truncate">Am I a good boy? The reason I ask is because someone
                                            told me that people say this to all dogs, even if they aren't good...</div>
                                        <div class="small text-gray-500">Chicken the Dog · 2w</div>
                                    </div>
                                </a>
                                <a class="dropdown-item text-center small text-gray-500" href="#">Read More Messages</a>
                            </div>
                        </li>

                        <div class="topbar-divider d-none d-sm-block"></div>

                        <!-- Nav Item - User Information -->
                        <li class="nav-item dropdown no-arrow">
                            <a class="nav-link dropdown-toggle" href="#" id="userDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                <span class="mr-2 d-none d-lg-inline text-gray-600 small">Admin</span>
                                <img class="img-profile rounded-circle" src="../img/undraw_profile.svg">
                            </a>
                            <!-- Dropdown - User Information -->
                            <div class="dropdown-menu dropdown-menu-right shadow animated--grow-in" aria-labelledby="userDropdown">
                                <a class="dropdown-item" href="#">
                                    <i class="fas fa-user fa-sm fa-fw mr-2 text-gray-400"></i>
                                    Profile
                                </a>
                                <a class="dropdown-item" href="#">
                                    <i class="fas fa-cogs fa-sm fa-fw mr-2 text-gray-400"></i>
                                    Settings
                                </a>
                                <a class="dropdown-item" href="#">
                                    <i class="fas fa-list fa-sm fa-fw mr-2 text-gray-400"></i>
                                    Activity Log
                                </a>
                                <div class="dropdown-divider"></div>
                                <a class="dropdown-item" href="../log.php" data-toggle="modal" data-target="#logoutModal">
                                    <i class="fas fa-sign-out-alt fa-sm fa-fw mr-2 text-gray-400"></i>
                                    Logout
                                </a>
                            </div>
                        </li>

                    </ul>

                </nav>
                <!-- End of Topbar -->

                <!-- Begin Page Content -->
                <div class="container-fluid">

                    <!-- Page Heading -->
                    <!DOCTYPE html>
                    <html lang="en">

                    <head>
                        <meta charset="UTF-8">
                        <meta name="viewport" content="width=device-width, initial-scale=1.0">
                        <title>Data Penjualan Barang</title>
                        <style>
                            table {
                                width: 100%;
                                border-collapse: collapse;
                                margin-top: 20px;
                            }

                            th,
                            td {
                                border: 1px solid #ddd;
                                padding: 8px;
                                text-align: left;
                                color: #000;
                            }

                            th {
                                background-color: #f2f2f2;
                            }

                            button {
                                padding: 5px 10px;
                                margin-right: 5px;
                            }

                            /* Perubahan pada input-field */
                            .input-field {
                                margin-bottom: 10px;
                            }

                            .input-field label {
                                display: block;
                                margin-bottom: 5px;
                                font-weight: bold; /* Menambahkan ketebalan pada label */
                            }

                            .input-field input,
                            .input-field select {
                                width: calc(100% - 22px); /* Mengatur lebar input */
                                padding: 5px;
                                border: 1px solid #ccc;
                                border-radius: 5px;
                                margin-top: 5px; /* Menambahkan jarak antara input dan label */
                            }

                            /* Button */
                            .input-field button {
                                width: 100%;
                                background-color: #4CAF50;
                                color: white;
                                border: none;
                                padding: 10px;
                                border-radius: 5px;
                                cursor: pointer;
                            }
                        </style>
                    </head>

                    <body>

                        <h2>Tambah Penjualan</h2>

                        <!-- Tombol untuk menampilkan form tambah penjualan -->
                        <button onclick="showForm()">Tambah Penjualan</button>
                        <br>

                        <!-- Form tambah penjualan (awalnya disembunyikan) -->
                        <div id="formPenjualan" style="display: none; margin-top: 10px; border: 1px solid #ccc; border-radius: 5px; padding: 5px;">
                            <form action="proses_tambah_penjualan.php" method="post" class="input-field">
                                <div>
                                    <label for="pelanggan">Pelanggan</label>
                                    <select id="pelanggan" name="pelanggan">
                                        <option>Pilih Pelanggan</option>
                                        <!-- Options for pelanggan -->
                                        <?php
                                        include 'koneksi.php'; // Include database connection file
                                        $sql_pelanggan = "SELECT * FROM pelanggan";
                                        $result_pelanggan = $conn->query($sql_pelanggan);
                                        if ($result_pelanggan->num_rows > 0) {
                                            while ($row_pelanggan = $result_pelanggan->fetch_assoc()) {
                                                echo "<option value='" . $row_pelanggan["pelanggan_id"] . "'>" . $row_pelanggan["nama_pelanggan"] . "</option>";
                                            }
                                        }
                                        ?>
                                    </select>
                                </div>
                                <div style="display: flex; flex-direction:row;flex-wrap:wrap">
                                    <div style='width:30%'>
                                        <label for="produk">Produk</label>
                                        <select id="produk" name="produk" style="width:80%;">
                                            <option>Pilih Produk</option>
                                            <!-- Options for produk -->
                                            <?php
                                            $sql_produk = "SELECT * FROM produk";
                                            $result_produk = $conn->query($sql_produk);
                                            if ($result_produk->num_rows > 0) {
                                                while ($row_produk = $result_produk->fetch_assoc()) {
                                                    echo "<option value='" . $row_produk["produk_id"] . "'>" . $row_produk["nama_produk"] . "</option>";
                                                }
                                            }
                                            ?>
                                        </select>
                                    </div>
                                    <div>
                                        <label for="quantity">Jumlah Beli</label>
                                        <input type="number" id="quantity" name="quantity" value="1" style="width:30%;">
                                    </div>
                                </div>
                                <br>
                                <a href="process_tambah_penjualan.php"><button type="submit" style="width: 20%; margin-left: 840px;">Tambah Penjualan</button></a>
                            </form>
                        </div>

                        <!-- Tabel Penjualan -->
                        <table id="tabelPenjualan">
                            <tr>
                                <th>Penjualan ID</th>
                                <th>Toko ID</th>
                                <th>User ID</th>
                                <th>Tanggal Penjualan</th>
                                <th>Pelanggan</th>
                                <th>Total</th>
                                <th>Bayar</th>
                                <th>Sisa</th>
                                <th>Keterangan</th>
                                <th>Aksi</th>
                            </tr>
                            <!-- Dynamic data for penjualan -->
                            <?php
                            $sql = "SELECT penjualan.*, toko.nama_toko AS nama_toko, user.nama_lengkap AS nama_user FROM penjualan
                                    INNER JOIN toko ON penjualan.toko_id = toko.toko_id
                                    INNER JOIN user ON penjualan.user_id = user.user_id";
                            $result = $conn->query($sql);
                            if ($result->num_rows > 0) {
                                while ($row = $result->fetch_assoc()) {
                                    echo "<tr>";
                                    echo "<td>" . $row["penjualan_id"] . "</td>";
                                    echo "<td>" . $row["nama_toko"] . "</td>";
                                    echo "<td>" . $row["nama_user"] . "</td>";
                                    echo "<td>" . $row["tanggal_penjualan"] . "</td>";
                                    echo "<td>" . $row["pelanggan"] . "</td>";
                                    echo "<td>" . $row["total"] . "</td>";
                                    echo "<td>" . $row["bayar"] . "</td>";
                                    echo "<td>" . $row["sisa"] . "</td>";
                                    echo "<td>" . $row["keterangan"] . "</td>";
                                    echo "<td>
                                            <a href='edit_penjualan_barang.php?id=" . $row["penjualan_id"] . "' class='btn btn-success btn-sm'>Edit</a>
                                            <a href='hapus_penjualan.php?id=" . $row["penjualan_id"] . "' class='btn btn-danger btn-sm' onclick=\"return confirm('Apakah Anda yakin ingin menghapus data ini?')\">Delete</a>
                                        </td>";
                                    echo "</tr>";
                                }
                            } else {
                                echo "<tr><td colspan='12'>Tidak ada data penjualan barang.</td></tr>";
                            }
                            $conn->close(); // Close database connection
                            ?>
                        </table>

                        <script>
                            // Function to show the penjualan form
                            function showForm() {
                                var form = document.getElementById('formPenjualan');
                                form.style.display = 'block';
                            }
                        </script>

                    </body>

                    </html>

                </div>
                <!-- /.container-fluid -->

            </div>
            <!-- End of Main Content -->

            <!-- Footer -->
            <footer class="sticky-footer bg-white">
                <div class="container my-auto">
                    <div class="copyright text-center my-auto">

                    </div>
                </div>
            </footer>
            <!-- End of Footer -->

        </div>
        <!-- End of Content Wrapper -->

    </div>
    <!-- End of Page Wrapper -->

    <!-- Scroll to Top Button-->
    <a class="scroll-to-top rounded" href="#page-top">
        <i class="fas fa-angle-up"></i>
    </a>

    <!-- Logout Modal-->
    <div class="modal fade" id="logoutModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLabel">Ready to Leave?</h5>
                    <button class="close" type="button" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">×</span>
                    </button>
                </div>
                <div class="modal-body">Select "Logout" below if you are ready to end your current session.</div>
                <div class="modal-footer">
                    <button class="btn btn-secondary" type="button" data-dismiss="modal">Cancel</button>
                    <a class="btn btn-primary" href="../log.php">Logout</a>
                </div>
            </div>
        </div>
    </div>

    <!-- Bootstrap core JavaScript-->
    <script src="../dashboard/vendor/jquery/jquery.min.js"></script>
    <script src="../dashboard/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>

    <!-- Core plugin JavaScript-->
    <script src="../dashboard/vendor/jquery-easing/jquery.easing.min.js"></script>

    <!-- Custom scripts for all pages-->
    <script src="../dashboard/js/sb-admin-2.min.js"></script>

    <!-- Page level plugins -->
    <script src="../dashboard/vendor/chart.js/Chart.min.js"></script>

    <!-- Page level custom scripts -->
    <script src="../dashboard/js/demo/chart-area-demo.js"></script>
    <script src="../dashboard/js/demo/chart-pie-demo.js"></script>

</body>

</html>






<?php
include 'koneksi.php'; // Include database connection file

// Mendapatkan data dari form tambah penjualan
$pelanggan = $_POST['pelanggan'];
$produk = $_POST['produk'];
$quantity = $_POST['quantity'];

// Menyimpan data penjualan ke dalam database
$sql_insert_penjualan = "INSERT INTO penjualan (pelanggan_id, tanggal_penjualan) VALUES ('$pelanggan', NOW())";
if ($conn->query($sql_insert_penjualan) === TRUE) {
    $last_id = $conn->insert_id;

    // Menyimpan detail penjualan ke dalam database
    $sql_insert_detail = "INSERT INTO penjualan_detail (penjualan_id, produk_id, quantity) VALUES ('$last_id', '$produk', '$quantity')";
    if ($conn->query($sql_insert_detail) === TRUE) {
        echo "Penjualan berhasil ditambahkan!";
    } else {
        echo "Error: " . $sql_insert_detail . "<br>" . $conn->error;
    }
} else {
    echo "Error: " . $sql_insert_penjualan . "<br>" . $conn->error;
}

$conn->close(); // Menutup koneksi database
?>






<!DOCTYPE html>
<html lang="en">

<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>Dashboard</title>

    <!-- Custom fonts for this template-->
    <link href="../dashboard/vendor/fontawesome-free/css/all.min.css" rel="stylesheet" type="text/css">
    <link
        href="https://fonts.googleapis.com/css?family=Nunito:200,200i,300,300i,400,400i,600,600i,700,700i,800,800i,900,900i"
        rel="stylesheet">

    <!-- Custom styles for this template-->
    <link href="../dashboard/css/sb-admin-2.min.css" rel="stylesheet">

</head>

<body id="page-top">

    <!-- Page Wrapper -->
    <div id="wrapper">

        <!-- Sidebar -->
        <ul class="navbar-nav bg-gradient-primary sidebar sidebar-dark accordion" id="accordionSidebar">

            <!-- Sidebar - Brand -->
            <a class="sidebar-brand d-flex align-items-center justify-content-center" href="../dashboard/index.html">
                <div class="sidebar-brand-icon rotate-n-15">
                    <i class="fas fa-laugh-wink"></i>
                </div>
                <div class="sidebar-brand-text mx-3">Admin</div>
            </a>

            <!-- Divider -->
            <hr class="sidebar-divider my-0">

            <!-- Nav Item - Dashboard -->
            <li class="nav-item active">
                <a class="nav-link" href="../dashboard/index.html">
                    <i class="fas fa-fw fa-tachometer-alt"></i>
                    <span>Dashboard</span></a>
            </li>

            <!-- Divider -->
            <hr class="sidebar-divider">

            <!-- Heading -->
            <div class="sidebar-heading">
                Interface
            </div>

            <!-- Nav Item - Data User -->
            <li class="nav-item">
                <a class="nav-link collapsed" href="../admin/data_user.php">
                    <i class="fas fa-fw fa-cog"></i>
                    <span>Data User</span>
                </a>
            </li>

            <!-- Nav Item - Data Barang -->
            <li class="nav-item">
                <a class="nav-link collapsed" href="../admin/data_barang.php">
                    <i class="fas fa-fw fa-folder"></i>
                    <span>Data Barang</span>
                </a>
            </li>

            <!-- Nav Item - Data Pelanggan -->
            <li class="nav-item">
                <a class="nav-link collapsed" href="../admin/data_pelanggan.php">
                    <i class="fas fa-fw fa-wrench"></i>
                    <span>Data Pelanggan</span>
                </a>
            </li>


            <!-- Nav Item - Data Supplier -->
            <li class="nav-item">
                <a class="nav-link" href="../admin/data_supplier.php">
                    <i class="fas fa-fw fa-chart-area"></i>
                    <span>Data Supplier</span></a>
            </li>

            <!-- Nav Item - Data Supplier -->
            <li class="nav-item">
                <a class="nav-link" href="../admin/pembelian_barang.php">
                    <i class="fas fa-fw fa-chart-area"></i>
                    <span>Pembelian Barang</span></a>
            </li>

            <!-- Nav Item - Penjualan Barang -->
            <li class="nav-item">
                <a class="nav-link" href="../admin/penjualan_barang.php">
                    <i class="fas fa-fw fa-table"></i>
                    <span>Penjualan Barang</span></a>
            </li>

            <!-- Nav Item - Stok Barang -->
            <li class="nav-item">
                <a class="nav-link" href="../admin/toko.php">
                    <i class="fas fa-fw fa-table"></i>
                    <span>Toko</span></a>
            </li>

            <!-- Divider -->
            <hr class="sidebar-divider d-none d-md-block">

            <!-- Sidebar Toggler (Sidebar) -->
            <div class="text-center d-none d-md-inline">
                <button class="rounded-circle border-0" id="sidebarToggle"></button>
            </div>

        </ul>
        <!-- End of Sidebar -->

        <!-- Content Wrapper -->
        <div id="content-wrapper" class="d-flex flex-column">

            <!-- Main Content -->
            <div id="content">

                <!-- Topbar -->
                <nav class="navbar navbar-expand navbar-light bg-white topbar mb-4 static-top shadow">

                    <!-- Sidebar Toggle (Topbar) -->
                    <button id="sidebarToggleTop" class="btn btn-link d-md-none rounded-circle mr-3">
                        <i class="fa fa-bars"></i>
                    </button>

                    <!-- Topbar Search -->
                    <form
                        class="d-none d-sm-inline-block form-inline mr-auto ml-md-3 my-2 my-md-0 mw-100 navbar-search">
                        <div class="input-group">
                            <input type="text" class="form-control bg-light border-0 small" placeholder="Search for..."
                                aria-label="Search" aria-describedby="basic-addon2">
                            <div class="input-group-append">
                                <button class="btn btn-primary" type="button">
                                    <i class="fas fa-search fa-sm"></i>
                                </button>
                            </div>
                        </div>
                    </form>

                    <!-- Topbar Navbar -->
                    <ul class="navbar-nav ml-auto">

                        <!-- Nav Item - Search Dropdown (Visible Only XS) -->
                        <li class="nav-item dropdown no-arrow d-sm-none">
                            <a class="nav-link dropdown-toggle" href="#" id="searchDropdown" role="button"
                                data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                <i class="fas fa-search fa-fw"></i>
                            </a>
                            <!-- Dropdown - Messages -->
                            <div class="dropdown-menu dropdown-menu-right p-3 shadow animated--grow-in"
                                aria-labelledby="searchDropdown">
                                <form class="form-inline mr-auto w-100 navbar-search">
                                    <div class="input-group">
                                        <input type="text" class="form-control bg-light border-0 small"
                                            placeholder="Search for..." aria-label="Search"
                                            aria-describedby="basic-addon2">
                                        <div class="input-group-append">
                                            <button class="btn btn-primary" type="button">
                                                <i class="fas fa-search fa-sm"></i>
                                            </button>
                                        </div>
                                    </div>
                                </form>
                            </div>
                        </li>

                        <!-- Nav Item - Alerts -->
                        <li class="nav-item dropdown no-arrow mx-1">
                            <a class="nav-link dropdown-toggle" href="#" id="alertsDropdown" role="button"
                                data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                <i class="fas fa-bell fa-fw"></i>
                                <!-- Counter - Alerts -->
                                <span class="badge badge-danger badge-counter">3+</span>
                            </a>
                            <!-- Dropdown - Alerts -->
                            <div class="dropdown-list dropdown-menu dropdown-menu-right shadow animated--grow-in"
                                aria-labelledby="alertsDropdown">
                                <h6 class="dropdown-header">
                                    Alerts Center
                                </h6>
                                <a class="dropdown-item d-flex align-items-center" href="#">
                                    <div class="mr-3">
                                        <div class="icon-circle bg-primary">
                                            <i class="fas fa-file-alt text-white"></i>
                                        </div>
                                    </div>
                                    <div>
                                        <div class="small text-gray-500">December 12, 2019</div>
                                        <span class="font-weight-bold">A new monthly report is ready to download!</span>
                                    </div>
                                </a>
                                <a class="dropdown-item d-flex align-items-center" href="#">
                                    <div class="mr-3">
                                        <div class="icon-circle bg-success">
                                            <i class="fas fa-donate text-white"></i>
                                        </div>
                                    </div>
                                    <div>
                                        <div class="small text-gray-500">December 7, 2019</div>
                                        $290.29 has been deposited into your account!
                                    </div>
                                </a>
                                <a class="dropdown-item d-flex align-items-center" href="#">
                                    <div class="mr-3">
                                        <div class="icon-circle bg-warning">
                                            <i class="fas fa-exclamation-triangle text-white"></i>
                                        </div>
                                    </div>
                                    <div>
                                        <div class="small text-gray-500">December 2, 2019</div>
                                        Spending Alert: We've noticed unusually high spending for your account.
                                    </div>
                                </a>
                                <a class="dropdown-item text-center small text-gray-500" href="#">Show All Alerts</a>
                            </div>
                        </li>

                        <!-- Nav Item - Messages -->
                        <li class="nav-item dropdown no-arrow mx-1">
                            <a class="nav-link dropdown-toggle" href="#" id="messagesDropdown" role="button"
                                data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                <i class="fas fa-envelope fa-fw"></i>
                                <!-- Counter - Messages -->
                                <span class="badge badge-danger badge-counter">7</span>
                            </a>
                            <!-- Dropdown - Messages -->
                            <div class="dropdown-list dropdown-menu dropdown-menu-right shadow animated--grow-in"
                                aria-labelledby="messagesDropdown">
                                <h6 class="dropdown-header">
                                    Message Center
                                </h6>
                                <a class="dropdown-item d-flex align-items-center" href="#">
                                    <div class="dropdown-list-image mr-3">
                                        <img class="rounded-circle" src="../img/undraw_profile_1.svg" alt="...">
                                        <div class="status-indicator bg-success"></div>
                                    </div>
                                    <div class="font-weight-bold">
                                        <div class="text-truncate">Hi there! I am wondering if you can help me with a
                                            problem I've been having.</div>
                                        <div class="small text-gray-500">Emily Fowler · 58m</div>
                                    </div>
                                </a>
                                <a class="dropdown-item d-flex align-items-center" href="#">
                                    <div class="dropdown-list-image mr-3">
                                        <img class="rounded-circle" src="../img/undraw_profile_2.svg" alt="...">
                                        <div class="status-indicator"></div>
                                    </div>
                                    <div>
                                        <div class="text-truncate">I have the photos that you ordered last month, how
                                            would you like them sent to you?</div>
                                        <div class="small text-gray-500">Jae Chun · 1d</div>
                                    </div>
                                </a>
                                <a class="dropdown-item d-flex align-items-center" href="#">
                                    <div class="dropdown-list-image mr-3">
                                        <img class="rounded-circle" src="../img/undraw_profile_3.svg" alt="...">
                                        <div class="status-indicator bg-warning"></div>
                                    </div>
                                    <div>
                                        <div class="text-truncate">Last month's report looks great, I am very happy with
                                            the progress so far, keep up the good work!</div>
                                        <div class="small text-gray-500">Morgan Alvarez · 2d</div>
                                    </div>
                                </a>
                                <a class="dropdown-item d-flex align-items-center" href="#">
                                    <div class="dropdown-list-image mr-3">
                                        <img class="rounded-circle" src="https://source.unsplash.com/Mv9hjnEUHR4/60x60"
                                            alt="...">
                                        <div class="status-indicator bg-success"></div>
                                    </div>
                                    <div>
                                        <div class="text-truncate">Am I a good boy? The reason I ask is because someone
                                            told me that people say this to all dogs, even if they aren't good...</div>
                                        <div class="small text-gray-500">Chicken the Dog · 2w</div>
                                    </div>
                                </a>
                                <a class="dropdown-item text-center small text-gray-500" href="#">Read More Messages</a>
                            </div>
                        </li>

                        <div class="topbar-divider d-none d-sm-block"></div>

                        <!-- Nav Item - User Information -->
                        <li class="nav-item dropdown no-arrow">
                            <a class="nav-link dropdown-toggle" href="#" id="userDropdown" role="button"
                                data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                <span class="mr-2 d-none d-lg-inline text-gray-600 small">Admin</span>
                                <img class="img-profile rounded-circle" src="../dashboard/img/undraw_profile.svg">
                            </a>
                            <!-- Dropdown - User Information -->
                            <div class="dropdown-menu dropdown-menu-right shadow animated--grow-in"
                                aria-labelledby="userDropdown">
                                <a class="dropdown-item" href="#">
                                    <i class="fas fa-user fa-sm fa-fw mr-2 text-gray-400"></i>
                                    Profile
                                </a>
                                <a class="dropdown-item" href="#">
                                    <i class="fas fa-cogs fa-sm fa-fw mr-2 text-gray-400"></i>
                                    Settings
                                </a>
                                <a class="dropdown-item" href="#">
                                    <i class="fas fa-list fa-sm fa-fw mr-2 text-gray-400"></i>
                                    Activity Log
                                </a>
                                <div class="dropdown-divider"></div>
                                <a class="dropdown-item" href="../log.php" data-toggle="modal"
                                    data-target="#logoutModal">
                                    <i class="fas fa-sign-out-alt fa-sm fa-fw mr-2 text-gray-400"></i>
                                    Logout
                                </a>
                            </div>
                        </li>

                    </ul>

                </nav>
                <!-- End of Topbar -->

                <!-- Begin Page Content -->
                <div class="container-fluid">

                    <!-- Page Heading -->
                    <!DOCTYPE html>
                    <html lang="en">

                    <head>
                        <meta charset="UTF-8">
                        <meta name="viewport" content="width=device-width, initial-scale=1.0">
                        <title>Data Penjualan Barang</title>
                        <style>
                        table {
                            width: 100%;
                            border-collapse: collapse;
                            margin-top: 20px;
                        }

                        th,
                        td {
                            border: 1px solid #ddd;
                            padding: 8px;
                            text-align: left;
                            color: #000;
                        }

                        th {
                            background-color: #f2f2f2;
                        }

                        button {
                            padding: 5px 10px;
                            margin-right: 5px;
                        }

                        /* Perubahan pada input-field */
                        .input-field {
                            margin-bottom: 10px;
                        }

                        .input-field label {
                            display: block;
                            margin-bottom: 5px;
                            font-weight: bold;
                            /* Menambahkan ketebalan pada label */
                        }

                        .input-field input,
                        .input-field select {
                            width: calc(100% - 22px);
                            /* Mengatur lebar input */
                            padding: 5px;
                            border: 1px solid #ccc;
                            border-radius: 5px;
                            margin-top: 5px;
                            /* Menambahkan jarak antara input dan label */
                        }

                        /* Button */
                        .input-field button {
                            width: 100%;
                            background-color: #4CAF50;
                            color: white;
                            border: none;
                            padding: 10px;
                            border-radius: 5px;
                            cursor: pointer;
                        }
                        </style>
                    </head>

                    <body>

                        <h2>Tambah Penjualan</h2>

                        <!-- Tombol untuk menampilkan form tambah penjualan -->
                        <button onclick="showForm()">Tambah Penjualan</button>
                        <br>

                        <!-- Form tambah penjualan (awalnya disembunyikan) -->
                        <div id="formPenjualan"
                            style="display: none; margin-top: 10px; border: 1px solid #ccc; border-radius: 5px; padding: 5px;">
                            <form action="proses_tambah_penjualan.php" method="post" class="input-field">
                                <div>
                                    <label for="pelanggan">Pelanggan</label>
                                    <select id="pelanggan" name="pelanggan">
                                        <option>Pilih Pelanggan</option>
                                        <!-- Options for pelanggan -->
                                        <?php
                                        include 'koneksi.php'; // Include database connection file
                                        $sql_pelanggan = "SELECT * FROM pelanggan";
                                        $result_pelanggan = $conn->query($sql_pelanggan);
                                        if ($result_pelanggan->num_rows > 0) {
                                            while ($row_pelanggan = $result_pelanggan->fetch_assoc()) {
                                                echo "<option value='" . $row_pelanggan["pelanggan_id"] . "'>" . $row_pelanggan["nama_pelanggan"] . "</option>";
                                            }
                                        }
                                        ?>
                                    </select>
                                </div>
                                <div style="display: flex; flex-direction:row;flex-wrap:wrap">
                                    <div style='width:30%'>
                                        <label for="produk">Produk</label>
                                        <select id="produk" name="produk" style="width:80%;">
                                            <option>Pilih Produk</option>
                                            <!-- Options for produk -->
                                            <?php
                                            $sql_produk = "SELECT * FROM produk";
                                            $result_produk = $conn->query($sql_produk);
                                            if ($result_produk->num_rows > 0) {
                                                while ($row_produk = $result_produk->fetch_assoc()) {
                                                    echo "<option value='" . $row_produk["produk_id"] . "'>" . $row_produk["nama_produk"] . "</option>";
                                                }
                                            }
                                            ?>
                                        </select>
                                    </div>
                                    <div>
                                        <label for="quantity">Jumlah Beli</label>
                                        <input type="number" id="quantity" name="quantity" value="1" style="width:30%;">
                                    </div>
                                </div>
                                <br>
                                <a href="process_tambah_penjualan.php"><button type="submit"
                                        style="width: 20%; margin-left: 840px;">Tambah Penjualan</button></a>
                            </form>
                        </div>

                        <!-- Tabel Penjualan -->
                        <table id="tabelPenjualan">
                            <tr>
                                <th>Penjualan ID</th>
                                <th>Toko ID</th>
                                <th>User ID</th>
                                <th>Tanggal Penjualan</th>
                                <th>Pelanggan</th>
                                <th>Produk</th>
                                <th>Jumlah Beli</th>
                                <th>Aksi</th>
                            </tr>
                            <!-- Dynamic data for penjualan -->
                            <?php

                            $sql = "SELECT penjualan.*, toko.nama_toko AS nama_toko, user.nama_lengkap AS nama_user, pelanggan.nama_pelanggan AS nama_pelanggan, produk.nama_produk AS nama_produk FROM penjualan
                                    INNER JOIN toko ON penjualan.toko_id = toko.toko_id
                                    INNER JOIN user ON penjualan.user_id = user.user_id
                                    INNER JOIN pelanggan ON penjualan.pelanggan = pelanggan.pelanggan_id
                                    INNER JOIN penjualan_detail ON penjualan.penjualan_id = penjualan_detail.penjualan_id
                                    INNER JOIN produk ON penjualan_detail.produk_id = produk.produk_id";

                            $result = $conn->query($sql);
                            if ($result->num_rows > 0) {
                                echo "<table id='tabelPenjualan'>
                                        <tr>
                                            <th>Penjualan ID</th>
                                            <th>Toko ID</th>
                                            <th>User ID</th>
                                            <th>Tanggal Penjualan</th>
                                            <th>Pelanggan</th>
                                            <th>Produk</th>
                                            <th>Jumlah Beli</th>
                                            <th>Aksi</th>
                                        </tr>";
                                while ($row = $result->fetch_assoc()) {
                                    echo "<tr>";
                                    echo "<td>" . $row["penjualan_id"] . "</td>";
                                    echo "<td>" . $row["nama_toko"] . "</td>";
                                    echo "<td>" . $row["nama_user"] . "</td>";
                                    echo "<td>" . $row["tanggal_penjualan"] . "</td>";
                                    echo "<td>" . $row["nama_pelanggan"] . "</td>";
                                    echo "<td>" . $row["nama_produk"] . "</td>";
                                    echo "<td>" . $row["qty"] . "</td>";
                                    echo "<td>
                                            <a href='edit_penjualan_barang.php?id=" . $row["penjualan_id"] . "' class='btn btn-success btn-sm'>Edit</a>
                                            <a href='hapus_penjualan.php?id=" . $row["penjualan_id"] . "' class='btn btn-danger btn-sm' onclick=\"return confirm('Apakah Anda yakin ingin menghapus data ini?')\">Delete</a>
                                        </td>";
                                    echo "</tr>";
                                }
                                echo "</table>";
                            } else {
                                echo "Tidak ada data penjualan barang.";
                            }
                            $conn->close(); // Close database connection
                            ?>



                        </table>

                        <script>
                        // Function to show the penjualan form
                        function showForm() {
                            var form = document.getElementById('formPenjualan');
                            form.style.display = 'block';
                        }
                        </script>

                    </body>

                    </html>


                </div>
                <!-- /.container-fluid -->

            </div>
            <!-- End of Main Content -->

            <!-- Footer -->
            <footer class="sticky-footer bg-white">
                <div class="container my-auto">
                    <div class="copyright text-center my-auto">

                    </div>
                </div>
            </footer>
            <!-- End of Footer -->

        </div>
        <!-- End of Content Wrapper -->

    </div>
    <!-- End of Page Wrapper -->

    <!-- Scroll to Top Button-->
    <a class="scroll-to-top rounded" href="#page-top">
        <i class="fas fa-angle-up"></i>
    </a>

    <!-- Logout Modal-->
    <div class="modal fade" id="logoutModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
        aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLabel">Ready to Leave?</h5>
                    <button class="close" type="button" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">×</span>
                    </button>
                </div>
                <div class="modal-body">Select "Logout" below if you are ready to end your current session.</div>
                <div class="modal-footer">
                    <button class="btn btn-secondary" type="button" data-dismiss="modal">Cancel</button>
                    <a class="btn btn-primary" href="../log.php">Logout</a>
                </div>
            </div>
        </div>
    </div>

    <!-- Bootstrap core JavaScript-->
    <script src="../dashboard/vendor/jquery/jquery.min.js"></script>
    <script src="../dashboard/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>

    <!-- Core plugin JavaScript-->
    <script src="../dashboard/vendor/jquery-easing/jquery.easing.min.js"></script>

    <!-- Custom scripts for all pages-->
    <script src="../dashboard/js/sb-admin-2.min.js"></script>

    <!-- Page level plugins -->
    <script src="../dashboard/vendor/chart.js/Chart.min.js"></script>

    <!-- Page level custom scripts -->
    <script src="../dashboard/js/demo/chart-area-demo.js"></script>
    <script src="../dashboard/js/demo/chart-pie-demo.js"></script>

</body>

</html>




<!DOCTYPE html>
                    <html lang="en">

                    <head>
                        <meta charset="UTF-8">
                        <meta name="viewport" content="width=device-width, initial-scale=1.0">
                        <title>Data Penjualan Barang</title>
                        <style>
                            table {
                                width: 100%;
                                border-collapse: collapse;
                                margin-top: 20px;
                            }

                            th,
                            td {
                                border: 1px solid #ddd;
                                padding: 8px;
                                text-align: left;
                                color: #000;
                            }

                            th {
                                background-color: #f2f2f2;
                            }

                            button {
                                padding: 5px 10px;
                                margin-right: 5px;
                            }

                            /* Perubahan pada input-field */
                            .input-field {
                                margin-bottom: 10px;
                            }

                            .input-field label {
                                display: block;
                                margin-bottom: 5px;
                                font-weight: bold; /* Menambahkan ketebalan pada label */
                            }

                            .input-field input,
                            .input-field select {
                                width: calc(100% - 22px); /* Mengatur lebar input */
                                padding: 5px;
                                border: 1px solid #ccc;
                                border-radius: 5px;
                                margin-top: 5px; /* Menambahkan jarak antara input dan label */
                            }

                            /* Button */
                            .input-field button {
                                width: 100%;
                                background-color: #4CAF50;
                                color: white;
                                border: none;
                                padding: 10px;
                                border-radius: 5px;
                                cursor: pointer;
                            }
                        </style>
                    </head>

                    <body>

                        <h2>Tambah Penjualan</h2>

                        <!-- Tombol untuk menampilkan form tambah penjualan -->
                        <a href="../admin/tambah_penjualan.php"><button onclick="tambahPenjualan()" class='btn btn-primary'>Tambah Penjualan</button></a>

                        <!-- Tabel Penjualan -->
                        <table id="tabelPenjualan">
                            <tr>
                                <th>Penjualan ID</th>
                                <th>Nama Toko</th>
                                <th>User</th>
                                <th>Tanggal Penjualan</th>
                                <th>Pelanggan</th>
                                <th>Total</th>
                                <th>Bayar</th>
                                <th>Sisa</th>
                                <th>Keterangan</th>
                                <th>Aksi</th>
                            </tr>
                            <!-- Dynamic data for penjualan -->
                            <?php
                            include 'koneksi.php';

                            $sql = "SELECT penjualan.*, toko.nama_toko AS nama_toko, user.nama_lengkap AS nama_user, pelanggan.nama_pelanggan FROM penjualan
                                    INNER JOIN toko ON penjualan.toko_id = toko.toko_id
                                    INNER JOIN user ON penjualan.user_id = user.user_id
                                    INNER JOIN pelanggan ON penjualan.pelanggan = pelanggan.pelanggan_id";
                            $result = $conn->query($sql);
                            if ($result->num_rows > 0) {
                                while ($row = $result->fetch_assoc()) {
                                    echo "<tr>";
                                    echo "<td>" . $row["penjualan_id"] . "</td>";
                                    echo "<td>" . $row["nama_toko"] . "</td>";
                                    echo "<td>" . $row["nama_user"] . "</td>";
                                    echo "<td>" . $row["tanggal_penjualan"] . "</td>";
                                    echo "<td>" . $row["nama_pelanggan"] . "</td>";
                                    echo "<td>" . $row["total"] . "</td>";
                                    echo "<td>" . $row["bayar"] . "</td>";
                                    echo "<td>" . $row["sisa"] . "</td>";
                                    echo "<td>" . $row["keterangan"] . "</td>";
                                    echo "<td>
                                            <a href='edit_penjualan_barang.php?id=" . $row["penjualan_id"] . "' class='btn btn-success btn-sm'>Edit</a>
                                            <a href='hapus_penjualan.php?id=" . $row["penjualan_id"] . "' class='btn btn-danger btn-sm' onclick=\"return confirm('Apakah Anda yakin ingin menghapus data ini?')\">Delete</a>
                                        </td>";
                                    echo "</tr>";
                                }
                            } else {
                                echo "<tr><td colspan='12'>Tidak ada data penjualan barang.</td></tr>";
                            }
                            $conn->close(); // Close database connection
                            ?>
                        </table>

                        <script>
                            // Function to show the penjualan form
                            function showForm() {
                                var form = document.getElementById('formPenjualan');
                                form.style.display = 'block';
                            }
                        </script>

                    </body>

                    </html>

dari file penjualan barang tersebut kan di tabel saya sudah terisi yang kolom penjualan_id, nama_toko, user, tanggal_penjualan, dan nama pelanggan nahh itu diisi dari file tambah penjualan dan sebenarnya masuk ke halaman penjualan-detail dan penjualan_barang, nahh saya ingin di tabelnya diubah dan ditambahkan kolom di samping nama_pelanggan yaitu produk, qty, 






kan form tambah penjualan saya untuk menambah penjualannya hanya ada pelanggan, produk, dan jumlah  beli nya, nah saya ingin pada saat saya klik tambah penjualan itu untuk id penjualan, toko id, user id, jumlah, dan total sudah otomatis terisi. untuk maksud total sudah terisi otomatis itu jadi kan misal saya memiliki banyak produk kemudian saya memilih salah satunya dan juga memilih jumlah yang akan dibeli nya berapa nah pada saat saya klik button tambah penjualan itu total nya sudah terhitung harga nya 


kan saya memiliki form untuk tambah penjualan yang code nya menyatu dengan tabel penjualan nya, di form tersebut ada pelanggan, produk, dan jumlah  beli tetapi ditabelnya saya memiliki penjualan_id, toko_id, user_id, pelanggan, dan total. untuk total saya 







kan saya memiliki form detail_penjualan yang isinya nama pelanggan, produk, qty, harga beli, harga jual, dan total, nahh untuk yang nama pelanggan itu saya ingin namanya otomatis ada karna diambil dari penjualan detail, untuk yang produk itu diambil dari database produk dengan menggunakan select, untuk yang harga jual dan harga beli menyesuaikan dari barang yang di select dari database, nah jika di qty saya membeli 2 atau lebih produk tersebut di harga belinya juga otomatis terubah dengan menjumlahkan berapa harga barangnya, berikut code nya

<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Detail Penjualan</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            background-color: #f4f4f4;
        }

        .container {
            max-width: 500px;
            margin: 50px auto;
            padding: 20px;
            background-color: #fff;
            border-radius: 5px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        }

        .input-field {
            margin-bottom: 20px;
        }

        .input-field label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
        }

        .input-field input {
            width: calc(100% - 22px);
            padding: 8px;
            border: 1px solid #ccc;
            border-radius: 5px;
        }

        .input-field button {
            width: 100%;
            background-color: #4CAF50;
            color: white;
            border: none;
            padding: 10px;
            border-radius: 5px;
            cursor: pointer;
        }

        .input-field button:hover {
            background-color: #45a049;
        }
    </style>
</head>

<body>
    <div class="container">
        <h2>Detail Penjualan</h2>
        <form id="formDetailPenjualan">
            <div class="input-field">
                <label for="nama_pelanggan">Nama Pelanggan</label>
                <input type="text" id="nama_pelanggan" name="nama_pelanggan">
            </div>
            <div class="input-field">
                <label for="produk">Produk</label>
                <input type="text" id="produk" name="produk">
            </div>
            <div class="input-field">
                <label for="qty">Qty</label>
                <input type="number" id="qty" name="qty">
            </div>
            <div class="input-field">
                <label for="harga_beli">Harga Beli</label>
                <input type="number" id="harga_beli" name="harga_beli">
            </div>
            <div class="input-field">
                <label for="harga_jual">Harga Jual</label>
                <input type="number" id="harga_jual" name="harga_jual">
            </div>
            <div class="input-field">
                <button type="submit">Submit</button>
            </div>
        </form>
    </div>
</body>

</html>
